## Task2 学习周报

- 本周具体工作计划

  - 用集成脚本一气呵成安装openstack，能够成功打开dashboard
  - 虚拟网络设置
  - 开启实例

- 本周主要工作内容

  1. 已经完成工作

     - 用集成脚本一气呵成安装openstack，能够成功打开dashboard
     - 虚拟网络设置
     - 开启实例

  2. 未完成工作

     无

  3. 问题与困难

     无

- 下周工作计划

  学习openstack的使用



### openstack网络分类

1. 根据创建网络的用户的权限，Neutron network 可以分为以下两种：

   > - **Provider network**：管理员创建的和物理网络有直接映射关系的虚拟网络。
   > - **Tenant network**：租户普通用户创建的网络，物理网络对创建者透明，其配置由 Neutron根据管理员在系统中的配置决定。

2. 根据网络的类型，Neutron network 可以分为以下五种：

   > - **VLAN network** **：**基于物理 VLAN 网络实现的虚拟网络。共享同一个物理网络的多个 VLAN 网络是相互隔离的，甚至可以使用重叠的 IP 地址空间。每个支持 VLAN network 的物理网络可以被视为一个分离的 VLAN trunk，它使用一组独占的 VLAN ID。有效的 VLAN ID 范围是 1 到 4094。
   > - **Flat network**：基于不使用 VLAN 的物理网络实现的虚拟网络。每个物理网络最多只能实现一个虚拟网络。
   > - **local network**：一个只允许在本服务器内通信的虚拟网络，不知道跨服务器的通信。主要用于单节点上测试。
   > - **GRE network** ：一个使用 GRE 封装网络包的虚拟网络。GRE 封装的数据包基于 IP 路由表来进行路由，因此 GRE network 不和具体的物理网络绑定。
   > - **VXLAN network**：基于 VXLAN 实现的虚拟网络。同 GRE network 一样， VXLAN network 中 IP 包的路由也基于 IP 路由表，也不和具体的物理网络绑定。

### 浮动IP

一个浮动IP通常是一个公开的、可以路由到的IP地址，并且不会自动分配给实体设备。项目管理者临时分配动态IP到一个或者多个实体设备。这个实体设备有自动分配的静态IP用于内部网间设备的通讯。这个内部网使用私有地址，这些私有地址不能被路由到。通过浮动IP内网实体的服务才能被外网识别和访问。

浮动IP可以用于灵活的负载均衡地址，用于高峰时的负载均衡，分流访问流量到不同的网络节点。网络节点是连接到两个或者多个通讯网络。就像一台电脑分配工作流到不同的处理器，负载均衡大量并发的请求或者复杂的计算分配到并行系统中。

### 创建实例

创建OpenStack虚拟机实例是建立在OpenStack三大核心组件之上。分别是Keystone、Glance、Nova。Keystone负责授权认证、租户管理、项目权限和配额以及服务目录管理。Glance负责为Nova提供创建实例所需要的镜像文件，这种镜像文件可以包含很多格式，大多数都是我们常见的镜像格式，如raw、qcow2。Nova负责虚拟机生命周期的管理，以及宿主机资源调度。Nova还决定了虚拟机实例建立在哪一台Hypervisor物理机之上。