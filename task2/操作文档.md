### 1. **登录**

> **访问192.168.63.132:8088/horizon，加载出如下网络：**

![1555136577062](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136577062.png?raw=true)

> **登陆进入Dashboard**

![1555134533558](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555134533558.png?raw=true)



### 2. **查看系统信息**
![1555136627566](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136627566.png?raw=true)

   


### 3. **上传cirros镜像**
![1555136797121](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136797121.png?raw=true)



> **映像源改为映像文件，选择群里上传的文件，格式为QEMU，点击创建映像**

![1555136894876](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136894876.png?raw=true)

   

### 4. **创建一个内部网络**
![1555136962829](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136962829.png?raw=true)


> **填写完网络的相关信息后点击submit**

![1555136996002](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555136996002.png?raw=true)


> **点击网络名称下方的红色文字，进入网络设置界面**

![1555137026389](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137026389.png?raw=true)

> **点击创建子网，随意输入一个IP网段**

![1555137192459](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137192459.png?raw=true)


> **点击下一步设置子网的分配池，即子网的IP会在[10.11.12.13,10.11.12.54]之间**

![1555137260359](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137260359.png?raw=true)

> **点击已创建，发现子网创建成功**

![1555137302480](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137302480.png?raw=true)

   

### 5. **创建一个外部网络**
> **为了使openstack中的实例可以访问互联网，所以将宿主机的网络共享给虚拟网卡VMnet1**

![1555137707980](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137707980.png?raw=true)
    
> **设置完成后发现VMnet1的IP设为了192.168.137.1**

![1555137782349](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555137782349.png?raw=true)
    
> **在VMware中打开虚拟网络编辑器，找到VMnet1本来的网段**

![1555138043873](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138043873.png?raw=true)
    
> **将VMnet1网卡的IP地址设为192.168.170.1**

![1555138102182](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138102182.png?raw=true)
    
> **将VMnet1的DHCP服务关闭**

![1555138154828](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138154828.png?raw=true)
    
> **网络设置完成后进入网络设置页面**

![1555138261296](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138261296.png?raw=true)  
> **开始创建一个外部网络**

![1555138325462](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138325462.png?raw=true)
    
> **填写完网络信息后点击submit**

![1555138353341](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138353341.png?raw=true)

> **点击刚创建的外部网络**

![1555138512734](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138512734.png?raw=true)

> **点击创建子网，开始设置网段信息**

![1555138663996](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138663996.png?raw=true)

> **设置分配池**

![1555138645121](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138645121.png?raw=true)
	
> **填写完毕后点击已创建，子网创建成功**

![1555138695883](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555138695883.png?raw=true)




### 6. **创建一个路由器**
> **点击项目->网络->路由器，进入路由器设置界面**

![1555139034510](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139034510.png?raw=true)
> **点击创建路由器**

![1555139076964](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139076964.png?raw=true)

> **输入路由器信息后点击创建路由器，结果如下图**

![1555139109197](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139109197.png?raw=true)

> **点击route1进入设置界面 ，选择接口选项卡**

![1555139153021](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139153021.png?raw=true)

> **点击添加接口**

![1555139190764](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139190764.png?raw=true)

> **点击submit，添加了int网络接口**

![1555139289699](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139289699.png?raw=true)

  

### 7. 创建实例

> **点击项目->计算->实例，进入实例管理界面**

![1555139325929](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139325929.png?raw=true)

> **点击启动实例**

![1555139392660](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139392660.png?raw=true)

> **输入实例名，创建三个实例，点下一项**

![1555139426612](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139426612.png?raw=true)



> **点“+”选择映像**

![1555139454365](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139454365.png?raw=true)

> **选择m1.tiny**

![1555139481983](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555139481983.png?raw=true)

> **网络选择int，点击启动实例**

![1555142126092](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142126092.png?raw=true)



### 8. 测试内部网络连通性

> **选择cirros-2进入控制台**

![1555142276461](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142276461.png?raw=true)

> **按照提示以user: cirros, pw: gocubsgo登录，查看cirros-2网卡情况**

![1555142343518](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142343518.png?raw=true)

> **分别凭cirros-1和cirros-3，联通**

![1555142462629](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142462629.png?raw=true)



### 9. 测试是否能访问外网

> **给 cirros-2 绑定浮动 IP**

![1555142516452](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142516452.png?raw=true)

> **点击右侧“+”**

![1555142567032](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142567032.png?raw=true)

> **点击分配IP**

![1555142594731](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142594731.png?raw=true)

> **点击关联，发现cirros-2已设置浮动IP**

![1555142620764](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142620764.png?raw=true)

> **ping宿主机IP，可以ping通**

![1555142695144](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142695144.png?raw=true)

> **ping百度IP，可以ping通**

![1555142756208](https://github.com/2019cloudcomputingpractices/CloudComputingCourse/blob/16340291-%E5%BC%A0%E9%A9%AC%E8%89%AF-16340268-%E6%9D%A8%E8%B1%AA/task2/picture/1555142756208.png?raw=true)

