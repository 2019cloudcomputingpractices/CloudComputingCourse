## 学习周报

### VDI

* VDI即虚拟桌面基础架构，它是通过在数据中心的服务器运行操作系统，当用户需要使用相应的设备时，用户可以通过个人的客户端设备与虚拟桌面进行连接，用户访问他们的桌面就像是访问传统的本地安装桌面一样，而且这种方式是不受距离限制的，用户可以从任何地方连接到他们的桌面，因为它位于数据中心之内，IT人员也会更易于管理桌面。

* 工作流程

  1. 用户通过客户端设备请求虚拟桌面
  2. 此要求将被VDI router转送到服务器寻找空闲桌面
  3. VDI router获得空闲桌面以及用户数据
  4. 将空闲桌面与用户数据连接
  5. 将连接的桌面返回给客户端

  ![1557672428799](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\1557672428799.png)

  

### 实现协议

* RDP协议 
  远程桌面协议（RDP, Remote Desktop Protocol）是一个多通道（multi-channel）的协议，让用户（客户端或称“本地电脑”）连上提供微软终端机服务的电脑（服务器端或称“远程电脑”）。大部分的Windows都有客户端所需软件。其他操作系统也有这些客户端软件，例如Linux、FreeBSD、Mac OS X。服务端电脑方面，则听取送到TCP3389端口的数据。 
  RDP也是windows流行的协议,但是随着目前的趋势来看还是使用spice更加有前途.

* VNC

  VNC (Virtual Network Computing)是虚拟网络计算机的缩写。VNC 是一款优秀的远程控制工具软件，由著名的 AT&T 的欧洲研究实验室开发的。VNC 是在基于 UNIX 和 Linux 操作系统的免费的开源软件，远程控制能力强大，高效实用，其性能可以和 Windows 和 MAC 中的任何远程控制软件媲美。 在 Linux 中，VNC 包括以下四个命令：vncserver，vncviewer，vncpasswd，和 vncconnect。大多数情况下我只需要其中的两个命令：vncserver 和 vncviewer。

* spice spice包括3个组件: 

  SPICE Driver ：SPICE驱动器 存在于每个虚拟桌面内的组件； 

  SPICE Device：SPICE设备 存在于红帽企业虚拟化Hypervisor内的组件； 

  SPICE Client：SPICE客户端 存在于终端设备上的组件，可以是瘦客户机或专用的PC，用于接入每个虚拟桌面。 

| SPICE        | VNC                       | RDP          |                     |
| ------------ | ------------------------- | ------------ | ------------------- |
| BIOS屏幕显示 | 能                        | 能           | 不能                |
| 全彩支持     | 能                        | 能           | 能                  |
| 更改分辨率   | 能                        | 能           | 能                  |
| 多显示器     | 多显示器支持（高达4画面） | 只有一个屏幕 | 多显示器支持        |
| 图像传输     | 图像和图形传输            | 图像传输     | 图像和图形传输      |
| 视频播放支持 | GPU加速支持               | 不能         | GPU加速支持         |
| 音频传输     | 双向语音可以控制          | 不能         | 双向语音可以控制    |
| 鼠标控制     | 客户端服务器都可以控制    | 服务器端控制 | 服务器端控制        |
| USB传输      | USB可以通过网络传输       | 不能         | USB可以通过网络传输 |

