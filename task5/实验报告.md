# 云晫系统源代码

## 组织结构

Project目录下的结构如下：

![目录.png](https://i.loli.net/2019/05/26/5ce96d011719b78523.png)

**gitlab**文件夹里面有issue的模板和merge request的模板。

**log**文件夹里面有各种文档，比如开发文档，包括规范、代码风格之类的；git、docker、mysql等工具的使用说明；单元测试说明；还有各个接口 的调用方法、使用手册之类。

**infras**是配套的基础设置，比如mysql，监听接口等的设置。

**src**文件夹中存放源码。

**tools**存放部署脚本等工具来完成部署。

## 启动流程

首先在web文件夹下的app中的init启动：可以看到这个文件中初始化了Flask。

![VEqusH.png](https://s2.ax1x.com/2019/05/26/VEqusH.png)

并且在这个文件中注册了各个模块，当需要调用各个模块时就会根据URL从app调用：

![VEqnQe.png](https://s2.ax1x.com/2019/05/26/VEqnQe.png)

比如需要调用auth认证，就会从auth包中寻找对应的方法。

而开启一个云桌面需要的URL：

![VEqZRO.png](https://s2.ax1x.com/2019/05/26/VEqZRO.png)

之后去desktop包中的view文件根据URL的后缀来寻找对应调用的方法：

比如输入的url时查看课程桌面：

![VEqezD.png](https://s2.ax1x.com/2019/05/26/VEqezD.png)

就会根据方法，log输出或者显示templates文件夹中的course_desktop文件来展示一个云桌面。

