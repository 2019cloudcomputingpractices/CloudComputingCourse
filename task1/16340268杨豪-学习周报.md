## 学习周报

### 本周具体工作计划

了解openstack基本概念，完成学习周报，在虚拟机上部署openstack

### 本周主要工作内容

了解openstack基本概念，完成学习周报，在虚拟机上部署openstack

#### 已经完成工作

了解openstack基本概念，完成学习周报，在虚拟机上部署openstack

#### 未完成工作

无

#### 问题与困难

部署openstack时遇到了一些问题，查看log文件无果后通过重装虚拟机解决

### 下周工作计划

进一步学习openstack的相关操作

### 建议与意见（如有）

无



## openstack

### 概念

OpenStack既是一个社区，也是一个项目和一个开源软件，提供开放源码软件，建立公共和私有云，它提供了一个部署云的操作平台或工具集，其宗旨在于：帮助组织运行为虚拟计算或存储服务的云，为公有云、私有云，也为大云、小云提供可扩展的、灵活的云计算。

### 详细构架

* 控制节点

  负责对其余节点的控制，包含虚拟机建立，迁移，网络分配，存储分配等等，它包括三个服务

  * **管理支持服务**包含MySQL与Qpid两个服务
    * MySQL：数据库作为基础/扩展服务产生的数据存放的地方
    * Qpid：消息代理(也称消息中间件)为其他各种服务之间提供了统一的消息通信服务
  * **基础管理服务**包含Keystone，Glance，Nova，Neutron，Horizon五个服务
    * Keystone：认证管理服务，提供了其余所有组件的认证信息/令牌的管理，创建，修改等等，使用MySQL作为统一的数据库
    * Glance：镜像管理服务，提供了对虚拟机部署的时候所能提供的镜像的管理，包含镜像的导入，格式，以及制作相应的模板
    * Nova：计算管理服务，提供了对计算节点的Nova的管理，使用Nova-API进行通信
    * Neutron：网络管理服务，提供了对网络节点的网络拓扑管理，同时提供Neutron在Horizon的管理面板
    * Horizon：控制台服务，提供了以Web的形式对所有节点的所有服务的管理，通常把该服务称为DashBoard
  * **扩展管理服务**包含Cinder，Swift，Trove，Heat，Centimeter五个服务
    * Cinder：提供管理存储节点的Cinder相关，同时提供Cinder在Horizon中的管理面板
    * Swift：提供管理存储节点的Swift相关，同时提供Swift在Horizon中的管理面板
    * Trove：提供管理数据库节点的Trove相关，同时提供Trove在Horizon中的管理面板
    * Heat：提供了基于模板来实现云环境中资源的初始化，依赖关系处理，部署等基本操作，也可以解决自动收缩,负载均衡等高级特性。
    * Centimeter：提供对物理资源以及虚拟资源的监控，并记录这些数据，对该数据进行分析，在一定条件下触发相应动作

* 网络节点

  负责对外网络与内网络之间的通信，仅包含Neutron服务

  * Neutron：负责管理私有网段与公有网段的通信，以及管理虚拟机网络之间的通信/拓扑，管理虚拟机之上的防火等等

* 计算节点

  负责虚拟机运行，Nova，Neutron，Telemeter三个服务

  * Nova：提供虚拟机的创建，运行，迁移，快照等各种围绕虚拟机的服务，并提供API与控制节点对接，由控制节点下发任务
  * Neutron：提供计算节点与网络节点之间的通信服务
  * Telmeter：提供计算节点的监控代理，将虚拟机的情况反馈给控制节点，是Centimeter的代理服务

* 存储节点

  负责对虚拟机的额外存储管理等等，包含Cinder，Swift等服务

  * Cinder：块存储服务，提供相应的块存储，简单来说，就是虚拟出一块磁盘，可以挂载到相应的虚拟机之上，不受文件系统等因素影响，对虚拟机来说，这个操作就像是新加了一块硬盘，可以完成对磁盘的任何操作，包括挂载，卸载，格式化，转换文件系统等等操作，大多应用于虚拟机空间不足的情况下的空间扩容等等

  * Swift：对象存储服务，提供相应的对象存储，简单来说，就是虚拟出一块磁盘空间，可以在这个空间当中存放文件，也仅仅只能存放文件，不能进行格式化，转换文件系统，大多应用于云磁盘/文件

### 单节点部署、多节点部署

* **单节点部署**就是把所有的服务都放在一个节点上。 
* **多节点部署**分别把计算节点服务（nova compute等）、控制节点(nova api/schedule/conductor)、网络节点(neutron L3 agent/dhcp agent)和存储节点(cinder volume)的服务分别安装在不同的服务器上。

