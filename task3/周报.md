# 本周具体工作计划
1. 制作windows7或者centos7或者ubuntu的镜像，格式为qcow2
2. 利用openstack上传镜像
3. 能够成功创建、开启实例
## 本周工作主要内容

### i.已完成工作
#### 1. Qcow2、ISO以及IMG格式的区别
- **Qcow2** 镜像格式是QEMU模拟器支持的一种磁盘镜像。它支持用一个文件的形式来表示一块固定大小的块设备磁盘。在此次自己制作镜像的过程中就是使用qcow2格式创建了一个大小为10G的文件来作为一块磁盘。

- **ISO** 是电脑上光盘镜像的存储格式之一，因为其是根据ISO-9660有关的CD-ROM文件系统标准来存储文件的，所以在电脑中这种文件的或追名为 **ISO** 。它形式上只有一个文件，可以真实地反映光盘的内容，可以由刻录软件或者镜像文件制作工具创建。

- **IMG** 这个文件格式可以视为 **ISO** 格式的一种超集合。由于 **ISO** 只能压缩使用ISO-9660和UDF这两种文件系统的存储媒介，即 **ISO** 只能压缩CD或DVD，一次发展除了 **IMG** ，它是在 **ISO** 的基础之上另外增加了可以压缩其他文件系统的存储媒介的能力。
#### 2. 为什么要自己制作镜像
镜像文件将特定的一系列文件按照一定的格式制作成单一的文件，从而能够方便用户的下载和使用，例如操作系统、游戏等。我们能够通过制作镜像将自己的系统当前的所有状态记录下来。之后我们能够通过镜像来还原自己所需的系统状态。制作镜像在一些生产环境中是十分有用的，例如能够通过镜像来恢复工作状态和代码生产环境等。
#### 3. 此次镜像制作的步骤总结
1. 上传磁盘镜像，即ISO等格式的文件。
2. 根据上传的镜像文件创建虚拟磁盘文件，此次制作镜像中使用的是qcow2格式的。
3. 根据创建好的虚拟磁盘文件创建虚拟机，安装系统并且如果需要可以对系统进行配置。
4. 将qcow2文件上传至 open stack中。
5. 然后可以根据上传到open stack中的镜像文件创建实例。

#### 4. 跟镜像相关的open stack命令
- 创建镜像 `openstack image create`  

- 删除镜像 `openstack image delete`

- 查看镜像列表 `openstack image list`

- 查看镜像信息 `openstack image show`

- 保存镜像 `openstack image save`

### ii. 未完成工作 
无

### iii. 问题与困难
在本地创建镜像时，创建完镜像之后，登陆openstack的dashboard界面打算创建实例的时候发现选择 **flavor** 的名称时选择 **m1.tiny** 无法创建镜像，选择 **m1.small** 进行创建则会开始创建实例，但是最终会创建失败。最后经过分析发现可能是分给安装openstack的虚拟机的存储容量不够大导致创建失败。参照 [https://www.cnblogs.com/chenyongjun/p/4604222.html](https://www.cnblogs.com/chenyongjun/p/4604222.html)中的操作方法，将虚拟机的硬盘容量扩大到40G后，成功创建了实例。

## 下周工作计划
暂无